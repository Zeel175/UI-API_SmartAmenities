<div class="bg-card flex min-w-0 flex-auto flex-col dark:bg-transparent sm:absolute sm:inset-0 sm:overflow-auto">
  <!-- Header -->
  <div class="relative flex flex-0 flex-col border-b px-6 py-8 sm:flex-row sm:items-center sm:justify-between md:px-8">
    <!-- Title -->
    <div class="text-4xl font-extrabold tracking-tight">User Details</div>
    <!-- Actions -->
    <div class="mt-6 flex shrink-0 items-center sm:ml-4 sm:mt-0">
      <a mat-flat-button color="primary" *ngIf="IsViewPermission" class="app-button back-Green" (click)="cancel()">View
        List</a>
    </div>
  </div>

  <!-- Main -->
  <div class="flex flex-auto overflow-visible">
    <div class="flex flex-auto flex-col overflow-visible sm:mb-18 sm:overflow-y-auto">
      <mat-card class="user-add-edit-form mt-4 mx-6 md:mx-8">
        <mat-card-content>
          <form [formGroup]="frmUser" (ngSubmit)="save()" novalidate class="app-form">


            <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 auto-rows-min">
              <!-- Name -->
              <mat-form-field class="full-width">
                <mat-label>Name</mat-label>
                <input type="text" matInput formControlName="name" textlower (keydown)="keyDownHandler($event)">
                <mat-error *ngIf="frmUser.controls.name.invalid && frmUser.controls.name.touched">
                  Name is required
                </mat-error>
              </mat-form-field>

              <!-- Username -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Username</mat-label>
                <input matInput formControlName="userName" autocomplete="off" (keydown)="keyDownHandler($event)">
                <mat-error
                  *ngIf="frmUser.controls.userName.hasError('required') && (frmUser.controls.userName.dirty || isFormSubmitted)">
                  Username is required
                </mat-error>
              </mat-form-field>

              <!-- Email -->
               <mat-form-field class="full-width">
                <mat-label>Email</mat-label>
                <input type="text" matInput formControlName="email" textlower (keydown)="keyDownHandler($event)">
                <mat-error *ngIf="frmUser.controls.email.invalid && frmUser.controls.email.touched">
                  Email is required
                </mat-error>
              </mat-form-field>

              <!-- Phone Number -->
              <mat-form-field class="full-width">
                <mat-label>Phone Number</mat-label>
                <input type="text" mask="(000) 000-0000" [dropSpecialCharacters]="false" matInput formControlName="phoneNumber">
                <mat-error *ngIf="frmUser.controls.phoneNumber.invalid && frmUser.controls.phoneNumber.touched">
                  Phone Number is required
                </mat-error>
              </mat-form-field>

              <!-- Password -->
             <mat-form-field class="full-width">
                <mat-label>Password</mat-label>
                <input [type]="hidePassword || isEditMode ? 'password' : 'text'" matInput formControlName="password">
                <button type="button" mat-icon-button matSuffix (click)="hidePassword = !hidePassword">
                  <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="frmUser.controls.password.invalid && frmUser.controls.password.touched">
                  Password is required
                </mat-error>
              </mat-form-field>

              
              <!-- Confirm Password -->
              <mat-form-field class="full-width">
                <mat-label>Confirm Password</mat-label>
                <input [type]="hideConfirmPassword || isEditMode ? 'password' : 'text'" matInput formControlName="confirmPassword">
                <button type="button" mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword">
                  <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="frmUser.controls.confirmPassword.invalid && frmUser.controls.confirmPassword.touched">
                  Confirm Password does not match
                </mat-error>
              </mat-form-field>


              <!-- Roles (multi-select) -->
              <mat-form-field class="full-width">
                <mat-label>Role</mat-label>
                <mat-select formControlName="role">
                  <mat-option *ngFor="let role of roleData" [value]="role.name">
                    {{ role.name }}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="frmUser.controls.role.invalid && frmUser.controls.role.touched">
                  Role is required
                </mat-error>
              </mat-form-field>
            </div>


            <!-- Submit Button -->
            <div class="flex justify-center mt-6">
              <button type="submit" mat-flat-button color="primary" class="app-button mr-1 back-Green">Save</button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>