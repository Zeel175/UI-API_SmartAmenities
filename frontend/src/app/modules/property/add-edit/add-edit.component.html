<!-- property-add-edit.component.html -->
<div class="bg-card flex min-w-0 flex-auto flex-col dark:bg-transparent">
  <!-- Header -->
  <div class="relative flex flex-0 flex-col border-b px-6 py-8 
             sm:flex-row sm:items-center sm:justify-between md:px-8">
    <div class="text-4xl font-extrabold tracking-tight">Property Details</div>
    <div class="mt-6 flex shrink-0 items-center sm:ml-4 sm:mt-0">
      <button
        mat-flat-button
        color="primary"
        class="app-button back-Green"
        (click)="cancel()"
      >
        View List
      </button>
    </div>
  </div>

  <!-- Form Container -->
  <div class="flex flex-auto overflow-visible">
    <div class="flex flex-auto flex-col overflow-visible sm:mb-18 sm:overflow-y-auto">
      <mat-card class="property-add-edit-form mt-4 mx-6 md:mx-8">
        <mat-card-content>
          <form [formGroup]="frmProperty" (ngSubmit)="save()" novalidate class="app-form">
            <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 auto-rows-min">
              <!-- Property Name -->
               <mat-form-field appearance="outline" class="w-full">
              <mat-label>Property Name</mat-label>
                <input matInput formControlName="propertyName" />
                <mat-error *ngIf="frmProperty.get('propertyName').invalid && frmProperty.get('propertyName').touched">
                  Property Name is required.
                </mat-error>
              </mat-form-field>

              <!-- Contact No -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Contact Number</mat-label>
                <input matInput type="tel" formControlName="contactNo" />
                <mat-error *ngIf="frmProperty.get('contactNo').invalid && frmProperty.get('contactNo').touched">
                  Contact Number is required.
                </mat-error>
              </mat-form-field>

              <!-- Alias -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Alias</mat-label>
                <input matInput formControlName="alias" />
              </mat-form-field>

              <!-- Address1 -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Address Line 1</mat-label>
                <input matInput formControlName="address1" />
                <mat-error *ngIf="frmProperty.get('address1').invalid && frmProperty.get('address1').touched">
                  Address Line 1 is required.
                </mat-error>
              </mat-form-field>

              <!-- Address2 -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Address Line 2</mat-label>
                <input matInput formControlName="address2" />
              </mat-form-field>

              <!-- Address3 -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Address Line 3</mat-label>
                <input matInput formControlName="address3" />
              </mat-form-field>

              <!-- Country -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Country</mat-label>
                <input matInput formControlName="country" />
                <mat-error *ngIf="frmProperty.get('country').invalid && frmProperty.get('country').touched">
                  Country is required.
                </mat-error>
              </mat-form-field>

              <!-- State -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>State</mat-label>
                <input matInput formControlName="state" />
                <mat-error *ngIf="frmProperty.get('state').invalid && frmProperty.get('state').touched">
                  State is required.
                </mat-error>
              </mat-form-field>

              <!-- City -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>City</mat-label>
                <input matInput formControlName="city" />
                <mat-error *ngIf="frmProperty.get('city').invalid && frmProperty.get('city').touched">
                  City is required.
                </mat-error>
              </mat-form-field>

              <!-- Pincode -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Pincode</mat-label>
                <input matInput formControlName="pincode" />
                <mat-error *ngIf="frmProperty.get('pincode').invalid && frmProperty.get('pincode').touched">
                  Pincode is required.
                </mat-error>
              </mat-form-field>

              <!-- Email -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Email</mat-label>
                <input matInput formControlName="email" />
              </mat-form-field>

              <!-- Website -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Website</mat-label>
                <input matInput formControlName="website" />
                <mat-error *ngIf="frmProperty.get('website').invalid && frmProperty.get('website').touched">
                  Website is required.
                </mat-error>
              </mat-form-field>

              <!-- Phone -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Phone Number</mat-label>
                <input matInput formControlName="phone" />
              </mat-form-field>

              <!-- GST No -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>GST No</mat-label>
                <input matInput formControlName="gstNo" />
                <mat-error *ngIf="frmProperty.get('gstNo').invalid && frmProperty.get('gstNo').touched">
                  GST No is required.
                </mat-error>
              </mat-form-field>

              <!-- PAN No -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>PAN No</mat-label>
                <input matInput formControlName="panNo" />
                <mat-error *ngIf="frmProperty.get('panNo').invalid && frmProperty.get('panNo').touched">
                  PAN No is required.
                </mat-error>
              </mat-form-field>

              <!-- Latitude -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Latitude</mat-label>
                <input matInput formControlName="latitude" />
              </mat-form-field>

              <!-- Longitude -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Longitude</mat-label>
                <input matInput formControlName="longitude" />
              </mat-form-field>

              <!-- Msme No -->
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Msme No</mat-label>
                <input matInput formControlName="msmeNo" />
              </mat-form-field>

              <!-- Logo Upload -->
              <div class="col-span-full">
                <label class="font-medium">Property Logo</label>
                <div class="mt-2 flex items-center space-x-2">
                  <input type="file" #fileInput (change)="onSelectFile($event)" hidden accept="image/*" />
                  <button type="button" mat-stroked-button color="primary" (click)="fileInput.click()">
                    <mat-icon>cloud_upload</mat-icon>
                    <span class="ml-1">Choose File</span>
                  </button>
                  <button type="button" *ngIf="imagePreview" mat-icon-button color="warn" (click)="removeFile()">
                    <mat-icon>close</mat-icon>
                  </button>
                </div>
                <img *ngIf="imagePreview" [src]="imagePreview" alt="Logo Preview" class="mt-4 max-h-32 rounded" />
              </div>
            </div>

            <!-- Save Button -->
            <div class="flex justify-center mt-6">
              <button mat-flat-button color="primary" type="submit" class="app-button back-Green">
                Save
              </button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>